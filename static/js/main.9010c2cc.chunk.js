(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{42:function(e,t,n){e.exports=n(86)},47:function(e,t,n){},48:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),i=(n(47),n(48),n(19)),s=n(17),u=n(3),l=(n(53),n(54),function(){return r.a.createElement("nav",{className:"nav-bar-cmp"},r.a.createElement(i.b,{exact:!0,to:"/"},"Home"),r.a.createElement(i.b,{to:"/favorites"},"Favorties"))}),p=(n(56),"SET_LOCATION_SUGGESTS"),m="SET_SELECTED_LOCATION_DETAILS",h="SET_FAVORITE_LOCATIONS",f="TOGGLE_TEMPERATURE_UNIT";var v=Object(u.b)((function(e){return{temperatureUnit:e.weatherReducer.unit}}),(function(e){return{toggleTemperatureUnit:function(){return e({type:f,payload:null})}}}))((function(e){var t=e.temperatureUnit,n=e.toggleTemperatureUnit;return r.a.createElement("div",{className:"toggle-unit-cmp",onClick:n},r.a.createElement("button",{className:"C"===t?"active":""},"\xb0 C"),r.a.createElement("span",null," | "),r.a.createElement("button",{className:"C"!==t?"active":""},"\xb0 F"))})),y=function(){return r.a.createElement("header",{className:"app-header-cmp"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"widget-container"},r.a.createElement(v,null)),r.a.createElement("div",{className:"main"},r.a.createElement("h2",null,"Weather App"),r.a.createElement(l,null))))},g=(n(57),n(20)),d=n(12),w=n(13),b=n(15),O=n(14),E=n(16),k=(n(58),n(2)),C=n.n(k),L=n(6),j=n(28),S=n.n(j);var T={store:function(e,t){localStorage[e]=JSON.stringify(t)},load:function(e){var t=localStorage[e]||"null";return JSON.parse(t)}},N=[{Date:"2019-11-29T07:00:00+02:00",EpochDate:1575003600,Temperature:{Minimum:{Value:13.1,Unit:"C",UnitType:17},Maximum:{Value:23.7,Unit:"C",UnitType:17}},Day:{Icon:1,IconPhrase:"Sunny",HasPrecipitation:!1},Night:{Icon:35,IconPhrase:"Partly cloudy",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us"},{Date:"2019-11-30T07:00:00+02:00",EpochDate:157509e4,Temperature:{Minimum:{Value:13.1,Unit:"C",UnitType:17},Maximum:{Value:23.7,Unit:"C",UnitType:17}},Day:{Icon:4,IconPhrase:"Intermittent clouds",HasPrecipitation:!1},Night:{Icon:33,IconPhrase:"Clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us"},{Date:"2019-12-01T07:00:00+02:00",EpochDate:1575176400,Temperature:{Minimum:{Value:14.6,Unit:"C",UnitType:17},Maximum:{Value:23.2,Unit:"C",UnitType:17}},Day:{Icon:2,IconPhrase:"Mostly sunny",HasPrecipitation:!1},Night:{Icon:39,IconPhrase:"Partly cloudy w/ showers",HasPrecipitation:!0,PrecipitationType:"Rain",PrecipitationIntensity:"Heavy"},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us"},{Date:"2019-12-02T07:00:00+02:00",EpochDate:1575262800,Temperature:{Minimum:{Value:13.4,Unit:"C",UnitType:17},Maximum:{Value:23,Unit:"C",UnitType:17}},Day:{Icon:3,IconPhrase:"Partly sunny",HasPrecipitation:!1},Night:{Icon:35,IconPhrase:"Partly cloudy",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us"},{Date:"2019-12-03T07:00:00+02:00",EpochDate:1575349200,Temperature:{Minimum:{Value:12.1,Unit:"C",UnitType:17},Maximum:{Value:22.7,Unit:"C",UnitType:17}},Day:{Icon:3,IconPhrase:"Partly sunny",HasPrecipitation:!1},Night:{Icon:34,IconPhrase:"Mostly clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=5&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=5&unit=c&lang=en-us"}],F={site_url:"https://benpinchas.github.io/Ben-Pinchas-28-11-2019"},P="https://dataservice.accuweather.com",D="zsGlW5LWHSfncy9Loq7xgypCDO1ShYbS",I="FAVORITE_LOCATIONS";function W(){return(W=Object(L.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P+"/locations/v1/cities/autocomplete?apikey="+D+"&q="+t,e.prev=1,e.next=4,S.a.get(n);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function U(){return(U=Object(L.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P+"/currentconditions/v1/"+t+"?apikey="+D+"&details=true",e.prev=1,e.next=4,S.a.get(n);case 4:return a=e.sent,e.abrupt("return",a.data[0]);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function x(){return(x=Object(L.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("FETCHING WEEK FORCAST FOR ",t),e.next=3,N;case 3:return e.abrupt("return",e.sent);case 8:return n=e.sent,e.abrupt("return",n.data);case 12:throw e.prev=12,e.t0=e.catch(5),e.t0;case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}var M={getLocationSuggests:function(e){return W.apply(this,arguments)},getLocationCurrentWeatherByKey:function(e){return U.apply(this,arguments)},getLocationweekForecastByKey:function(e){return x.apply(this,arguments)},getFavoriteLocations:function(){return T.load(I)},saveFavoriteLocations:function(e){return T.store(I,e)},getWeatherIconSrc:function(e){var t=F.site_url+"/assets/weather-icons/";return 1===e?t+"sun.svg":e>=2&&e<=4?t+"sunny.svg":e>=6&&e<=8?t+"cloudy.svg":11===e?t+"fog.svg":e>=12&&e<=18?t+"rain.svg":22===e?t+"snow.svg":e>=19&&e<=23?t+"clouds.svg":e>=38&&e<=42?t+"storm.svg":t+"general.svg"},convertCelsiusToFahrenheit:function(e){return Math.floor(1.8*e+32)}};function R(e){return function(){var t=Object(L.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:m,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function A(){return function(){var e=Object(L.a)(C.a.mark((function e(t,n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n().locationReducer.favorites.length){e.next=5;break}return e.next=3,M.getFavoriteLocations();case 3:a=e.sent,t({type:h,payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}n(77);var H=function(e){var t=e.suggestions,n=e.onSuggestClick,a=t.map((function(e){return r.a.createElement("li",{className:"suggest-preview",key:e.Key,onClick:n.bind(null,e)},r.a.createElement("span",null,e.LocalizedName)," ",r.a.createElement("span",{className:"country"},e.Country.LocalizedName))}));return r.a.createElement("ul",{className:"suggests-list-cmp"},a)};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(b.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={isFocus:!1,term:""},n.setSelectedLocation=function(e){n.setState({term:e.LocalizedName}),n.props.setSelectedLocation(e)},n.onFocus=function(){n.setState({isFocus:!0})},n.onBlur=function(){setTimeout((function(){return n.setState(K({},n.state,{isFocus:!1}))}),100)},n.onInputChange=function(e){var t=e.target.value;n.setState((function(e){return K({},e,{term:t})}),(function(){return n.props.fetchLocationSuggests(t)}))},n}return Object(E.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.suggestions,t=this.state.isFocus;return r.a.createElement("div",{className:"location-search-cmp"},r.a.createElement("input",{type:"text",onChange:this.onInputChange,value:this.state.term,onFocus:this.onFocus,onBlur:this.onBlur,placeholder:"Search for a place.."}),t&&e&&r.a.createElement(H,{suggestions:e,onSuggestClick:this.setSelectedLocation}))}}]),t}(r.a.Component),_=Object(u.b)((function(e){return{suggestions:e.locationReducer.locationSuggests}}),(function(e){return{fetchLocationSuggests:function(t){return e((n=t,function(){var e=Object(L.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getLocationSuggests(n);case 2:a=e.sent,t({type:p,payload:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n},setSelectedLocation:function(t){return e(R(t))}}}))(B);n(78),n(79),n(80);var G={getDayInWeekByDate:function(e){return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][new Date(e).getDay()]},getFormattedHour:function(e){var t=6e4*new Date(Date.now()).getTimezoneOffset(),n=Date.now()+t,a=6e4*+e.slice(19,22)*60,r=new Date(n+a);return(r.getHours()<10?"0"+r.getHours():r.getHours())+":"+(r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes())}},z=Object(u.b)((function(e){return{temperatureUnit:e.weatherReducer.unit}}))((function(e){var t=e.dayForecast,n=e.temperatureUnit,a=G.getDayInWeekByDate(t.Date),c=t.Temperature.Minimum.Value,o="C"===n?c+" \xb0 C":M.convertCelsiusToFahrenheit(c)+" \xb0 F",i=M.getWeatherIconSrc(t.Day.Icon);return r.a.createElement("li",{className:"day-forecast-cmp floating-card"},r.a.createElement("span",{className:"day"}," ",a," "),r.a.createElement("div",{className:"icon-temperature-container"},r.a.createElement("img",{src:i}),r.a.createElement("span",null," ",o," ")))})),J=function(e){var t=e.weekForecast.map((function(e){return r.a.createElement(z,{key:e.EpochDate,dayForecast:e})}));return r.a.createElement("ul",{className:"week-forecast-cmp responsive-grid"},t)},q=(n(81),function(e){var t=e.isChecked,n=e.onClick,a={color:t?"tomato":"#ccc"};return r.a.createElement("span",{className:"toggle-heart-cmp active",style:a,onClick:n},r.a.createElement("i",{className:"fas fa-heart"}))}),Y=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(b.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={currentWeather:"FETCHING",weekForecast:[]},n.fetchCurrentWeather=Object(L.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.selectedLocation.Key,e.prev=1,e.next=4,M.getLocationCurrentWeatherByKey(t);case 4:a=e.sent,n.setState({currentWeather:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.setState({currentWeather:"ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),n.fetchWeekForecast=Object(L.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.selectedLocation.Key,e.next=3,M.getLocationweekForecastByKey(t);case 3:a=e.sent,n.setState({weekForecast:a});case 5:case"end":return e.stop()}}),e)}))),n.toggleLocationFromFavorites=function(){n.props.toggleLocationFromFavorites(n.props.selectedLocation)},n}return Object(E.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.fetchCurrentWeather(),this.fetchWeekForecast()}},{key:"componentDidUpdate",value:function(e,t){t&&e.selectedLocation!==this.props.selectedLocation&&(this.fetchCurrentWeather(),this.fetchWeekForecast())}},{key:"render",value:function(){var e,t,n,a,c,o,i,s=this.props,u=s.selectedLocation,l=s.favorites,p=s.temperatureUnit,m=this.state,h=m.currentWeather,f=m.weekForecast,v=u.LocalizedName,y=l.find((function(e){return e.Key===u.Key}));return"FETCHING"===h?(e="Loading..",t="Loading..",n="https://svgshare.com/i/GVB.svg"):"ERROR"===h?(n="https://svgshare.com/i/GV2.svg",t="Please try later!"):(e="C"===p?h.Temperature.Metric.Value+" \xb0 C":h.Temperature.Imperial.Value+" \xb0 F",t=h.WeatherText,n=M.getWeatherIconSrc(h.WeatherIcon),a=G.getFormattedHour(h.LocalObservationDateTime),c=h.IsDayTime?"Day":"Night",o={backgroundColor:h.IsDayTime?"lightblue":"#214c6d"},i=h.Wind.Speed.Metric.Value+"Km/h"),r.a.createElement("div",{className:"location-details-cmp"},r.a.createElement("div",{className:"top content floating-card"},r.a.createElement("div",{className:"name-temperature-container"},r.a.createElement("h2",null,v),r.a.createElement("h3",{className:"temperature"}," ",e," ")),r.a.createElement("div",{className:"weather-icon-text"},r.a.createElement("img",{src:n}),t),r.a.createElement(q,{onClick:this.toggleLocationFromFavorites,isChecked:y})),r.a.createElement("div",{className:"test-1"},r.a.createElement("div",{className:"floating-card location-time-container",style:o},a&&r.a.createElement("h3",null,a," | ",c)),r.a.createElement("div",{className:"floating-card wind"},i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"https://svgshare.com/i/GW2.svg"}),r.a.createElement("h3",null,"Wind"),r.a.createElement("span",null,i)))),r.a.createElement(J,{weekForecast:f}))}}]),t}(a.Component),Q=Object(u.b)((function(e){return{selectedLocation:e.locationReducer.selectedLocation,favorites:e.locationReducer.favorites,temperatureUnit:e.weatherReducer.unit}}),(function(e){return{toggleLocationFromFavorites:function(t){return e(function(e){return function(t,n){var a=n().locationReducer.favorites.slice(),r=a.findIndex((function(t){return t.Key===e.Key}));-1!==r?a.splice(r,1):a.push(e),t({type:h,payload:a}),M.saveFavoriteLocations(a)}}(t))},fetchFavoriteLocations:function(){return e(A())}}}))(Y),X=function(){return r.a.createElement("div",{className:"home-page container content"},r.a.createElement(_,null),r.a.createElement(Q,null))},Z=(n(82),n(83),n(84),n(85),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(b.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={currentWeather:null},n.fetchCurrentWeather=Object(L.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.location.Key,e.next=3,M.getLocationCurrentWeatherByKey(t);case 3:a=e.sent,n.setState({currentWeather:a});case 5:case"end":return e.stop()}}),e)}))),n.handleClick=function(){var e=n.props.location;n.props.onLocationClick(e)},n}return Object(E.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.fetchCurrentWeather()}},{key:"render",value:function(){var e,t,n=this.props,a=n.location,c=n.temperatureUnit,o=this.state.currentWeather;return o&&(t="C"===c?o.Temperature.Metric.Value+" \xb0 C":o.Temperature.Imperial.Value+" \xb0 F",e=M.getWeatherIconSrc(o.WeatherIcon)),r.a.createElement("li",{className:"location-preview-cmp floating-card",onClick:this.handleClick},r.a.createElement("span",{className:"location-name"},a.LocalizedName),r.a.createElement("div",{className:"icon-temperature-container"},r.a.createElement("img",{src:e}),r.a.createElement("span",null," ",t," ")))}}]),t}(a.Component)),$=Object(u.b)((function(e){return{temperatureUnit:e.weatherReducer.unit}}))(Z),ee=function(e){var t=e.locations,n=e.onLocationClick,a=t.length?t.map((function(e){return r.a.createElement($,{key:e.Key,location:e,onLocationClick:n})})):"No favorites yet..";return r.a.createElement("ul",{className:"location-list-cmp responsive-grid"},a)},te=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(b.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleLocationClick=function(e){n.props.setSelectedLocation(e),n.props.history.push("/")},n}return Object(E.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchFavoriteLocations()}},{key:"render",value:function(){var e=this.props.favorites?r.a.createElement(ee,{locations:this.props.favorites,onLocationClick:this.handleLocationClick}):"No locations..";return r.a.createElement(r.a.Fragment,null,e)}}]),t}(a.Component),ne=Object(s.f)(Object(u.b)((function(e){return{favorites:e.locationReducer.favorites}}),(function(e){return{fetchFavoriteLocations:function(){return e(A())},setSelectedLocation:function(t){return e(R(t))}}}))(te)),ae=function(){return r.a.createElement("div",{className:"favorites-page container content"},r.a.createElement(ne,null))};var re=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:X}),r.a.createElement(s.a,{path:"/favorites",component:ae}))))},ce=n(18);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se={locationSuggests:null,selectedLocation:{Key:"215854",LocalizedName:"Tel Aviv"},favorites:[]},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return ie({},e,{locationSuggests:t.payload});case m:return ie({},e,{selectedLocation:t.payload});case h:return ie({},e,{favorites:t.payload});default:return e}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me={unit:"C"},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n="C"===e.unit?"F":"C";return pe({},e,{unit:n});default:return e}},fe=Object(ce.c)({locationReducer:ue,weatherReducer:he}),ve=n(41),ye=Object(ce.d)(fe,Object(ce.a)(ve.a));ye.subscribe((function(){})),o.a.render(r.a.createElement(u.a,{store:ye},r.a.createElement(re,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.9010c2cc.chunk.js.map